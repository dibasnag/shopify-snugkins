<div class="home-custom-block {% if block.settings.layout_style == 'layout_style_2' %} layout_style_2{% endif %}" id="custom-block-{{block.id}}">
    <div class="{% if block.settings.layout == 'default' %}container{% else %}container-fluid{% endif %}">
        {% if block.settings.widget_title != blank %}
        <div class="widget-title{% if block.settings.title_style == 'style_2' %} not-before{% endif %}">   
            <h3 class="box-title">
                <span class="title"> 
                    {% render 'multilang' with block.settings.widget_title %}
                </span>
            </h3>
            {% if block.settings.widget_des != blank %}
            <p>
                {% render 'multilang' with block.settings.widget_des %}
            </p>        
            {% endif %}
        </div>
        {% endif %}
        <div class="row">
            <div class="col-12 no-padd" id="block-{{block.id}}">
                <div class="custom-block-banner banner-large-img{% if block.settings.display_parallax %} banner-parallax{% endif %}">
                    <div class="img-box">
                        {% if block.settings.image != blank %}
                        {%- assign preview_img = block.settings.image -%}
                        <a href="{{ block.settings.link }}" {% unless block.settings.display_parallax %}class="adaptive_height" style="padding-top: {{ 1 | divided_by: preview_img.aspect_ratio | times: 100 }}%"{% endunless %}>
                            {%- assign img_url = block.settings.image | img_url: '1920x' -%}

                            {% if block.settings.display_parallax %}
                            <div class="parallax-image{% if block.settings.image_mb != blank %} slide-pc{% endif %}" style="background-image: url({{img_url}});"></div> 
                            {% endif %}

                            <img data-srcset="{{ img_url }}" alt="{{ block.settings.image.alt | default: shop.name }}" class="lazyload{% if block.settings.image_mb != blank %} slide-pc{% endif %}" data-sizes="auto">

                            {% if block.settings.image_mb != blank %}

                            {%- assign img_url_mb = block.settings.image_mb | img_url: 'master' -%}

                            <img data-srcset="{{ img_url_mb }}" alt="{{ block.settings.image_mb.alt | default: shop.name }}" class="lazyload slide-mobile" data-sizes="auto">
                            {% endif %}                     
                        </a>
                        {% else %}
                        <a href="{{ block.settings.link }}">
                            <div class="not_img">
                            1880 x 720px
                            </div>   
                        </a>
                        {% endif %} 

                        {% if block.settings.countdown != blank %}
                        <div class="sub-banner-countdown countdown-{{ block.id }}" data-countdown data-countdown-value="{{ block.settings.countdown }}">
                        </div>

                        <style>
                        .custom-block-banner .clock-item {
                            border-color: {{ block.settings.color_banner_heading | color_modify: 'alpha', 0.7 }};
                            color: {{ block.settings.color_banner_heading }};
                        }
                        </style>
                        {% endif %}
                    </div>
                
                    {% if block.settings.banner_heading != blank or block.settings.banner_des != blank or block.settings.countdown!= blank or block.settings.banner_button != blank %}
                    <div class="banner-content inner {% if block.settings.alignment == 'left' %}abs_left{% elsif block.settings.alignment == 'right' %}abs_right{% else %}abs_center{% endif %}">
                        {% if block.settings.banner_heading != blank %}
                        <h2 class="banner-heading"
                            style="{% if block.settings.font_size_banner_heading != blank %}
                                font-size: {{ block.settings.font_size_banner_heading }};
                                {% endif %}
                                {% if block.settings.color_banner_heading != blank %}
                                color:{{ block.settings.color_banner_heading }};
                                {% endif %}">
                        <span class="line" style="background-color: {{ block.settings.color_banner_heading }};"></span>
                        {% render 'multilang' with block.settings.banner_heading  %}
                        </h2>
                        {% endif %}

                        {% if block.settings.banner_des != blank %}
                        <p class="banner-des{% if block.settings.countdown != blank %} has-coundown{% endif %}"
                            style="{% if block.settings.font_size_banner_des != blank %}
                                    font-size: {{ block.settings.font_size_banner_des }};
                                    {% endif %}
                                    {% if block.settings.color_banner_des != blank %}
                                    color: {{ block.settings.color_banner_des }};
                                    {% endif %}">
                        {% render 'multilang' with block.settings.banner_des  %}
                        </p>
                        {% endif %}

                        {% if block.settings.countdown != blank %}
                            <div class="sub-banner-countdown countdown-{{ block.id }}" data-countdown data-countdown-value="{{ block.settings.countdown }}">
                            </div>

                            <style>
                            .custom-block-banner .clock-item {
                                border-color: {{ block.settings.color_banner_heading | color_modify: 'alpha', 0.7 }};
                                color: {{ block.settings.color_banner_heading }};
                            }
                            </style>
                        {% endif %}

                        {% if block.settings.banner_button != blank %}
                        <a href="{{ block.settings.link }}" class="banner-button btn"
                        style="{% if block.settings.bg_banner_button != blank %}
                                background-color:{{ block.settings.bg_banner_button }};
                                {% endif %}
                                {% if block.settings.border_banner_button != blank %}
                                border-color:{{ block.settings.border_banner_button }};
                                {% endif %}
                                {% if block.settings.color_banner_button != blank %}
                                color:{{ block.settings.color_banner_button }};
                                {% endif %}
                                {% if block.settings.min_width_banner_button != blank %}
                                min-width:{{ block.settings.min_width_banner_button }};
                                {% endif %}">
                        {% render 'multilang' with block.settings.banner_button %}
                        </a>
                        {% endif %}
                    </div>
                    {% endif %}  
                </div>

                {% if block.settings.display_parallax and block.settings.dpl_down_arrow %}
                <a href="#" class="scroll-down" data-scroll-down style="color: {{ block.settings.color_banner_heading }};">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" zoomAndPan="disable" x="0px" y="0px" viewBox="0 0 36 18" xml:space="preserve">
                        <style type="text/css">
                            .st0{fill:none;stroke:#fff;stroke-width:1.5;}
                        </style>
                        <line class="st0" x1="36" y1="0" x2="18" y2="18"></line>
                        <line class="st0" x1="0" y1="0" x2="18" y2="18"></line>
                    </svg>
                </a>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<style>
  {% assign margin_bottom =  block.settings.margin_bottom %}  

    @media (max-width: 767px) {
        #custom-block-{{ block.id }} {
            margin-bottom: {{ block.settings.margin_bottom_mb }}px;
        }
        {% if block.settings.image_mb != blank %}
        {%- assign preview_img_mb = block.settings.image_mb -%}
        #block-{{block.id}} .adaptive_height {
            padding-top: {{ 1 | divided_by: preview_img_mb.aspect_ratio | times: 100 }}%!important;
        }
        {% endif %}
    }


    @media (min-width: 768px) and (max-width: 1199px) {
        #custom-block-{{ block.id }} {
            margin-bottom: {{ block.settings.margin_bottom_tab }}px;
        }
    }
  
    @media (min-width: 1200px) {
        #custom-block-{{ block.id }} {
        margin-bottom: {{ margin_bottom }}px;
        }
    }   

    #custom-block-{{ block.id }} .img-box {
        text-align: {{ block.settings.img_align }};
    }

    {% if block.settings.display_parallax %}
    @media (min-width: 1200px) {
        .banner-parallax .parallax-image {
            height: {{ block.settings.height_img_parallax }};
        }
    } 
    {% endif %}
    @media (max-width: 767px) {
        #block-{{block.id}} .banner-content .banner-heading {
            color: {{ block.settings.color_banner_heading_mb }} !important;
        }
        #block-{{block.id}} .banner-content .banner-heading .line {
            background-color: {{ block.settings.color_banner_heading_mb }} !important;
        }
        #block-{{block.id}} .banner-content .banner-des {
            color: {{ block.settings.color_banner_des_mb }} !important;
        }
        #block-{{block.id}} .banner-content .banner-button {
            color: {{ block.settings.color_banner_button_mb }} !important;
            background-color: {{ block.settings.bg_banner_button_mb }} !important;
            border-color: {{ block.settings.border_banner_button_mb }} !important;
        }
    }       
</style>